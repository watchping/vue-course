## 教学内容
1. 什么是Vue
2. 如何使用Vue
3. MVVM设计模式
4. 绑定语法
5. 指令

### 1.什么是Vue
#### 什么是Vue
Vue是第三方开发的渐进式的基于MVVM设计模式的纯前端js框架
- 1.MVVM：后面会介绍
- 2.渐进式:可逐步在项目中引入Vue的各项功能,可以轻松和别的技术混搭，且会多少就可以用多少
- 3.纯前端js框架：与nodejs无关!单靠浏览器就可以运行
- 4.框架：进一步理解
  - 原生js:不需要下载，浏览器就自带的，比如ES+DOM+BOM，优点：万能！缺点：繁琐！
  - JQuery函数库：基于原生的js，重新封装的一批函数的集合，简化了传统DOM每一步的操作。优点：简单！缺点：没有简化开发的步骤，依然包含大量重复的编码
  - 框架：已经具有核心功能的半成品项目代码。开发人员只需要根据具体业务的需求，添加定制自己个性化的那一部分内容即可！优点：根本上简化了开发流程，几乎避免了重复编码。缺点：不兼容旧浏览器，需要开发人员彻底转变思路！
- PS第三方:说明浏览器是需要下载的

#### 为什么要使用Vue
便于大项目开发，避免重复代码，提高开发效率

#### 什么时候使用Vue
凡是以数据为主的项目，都可以适用Vue框架开发

### 2. 如何使用Vue
#### 下载: cn.vuejs.org
有2种使用模式:
- 1).下载独立的vue.js文件，用<script>引入网页中
初学者使用，学习单项Vue中的技能，版本:2.5，可以分2个版本:
  - 开发版：未压缩，包括完备的注释、代码格式和见名知义的变量名，同时带有非常人性化的错误提示
  - 生产版：压缩，去掉注释及代码格式,简化了变量名，删除了错误提示
- 2)安装脚手架代码: 3.x/4.x,今后熟练之后，开发项目，都是用脚手架的

#### 使用vue.js:
准备: 引入vue.js
<script src="js/vue.js">
1. 编写界面:
    1. 所有界面内容必须包裹在一个唯一的父元素内
    2. 找到页面中所有可能变化的位置用{{变量名}}方式临时占位
2. 编写自定义js程序:
    1. 定义data对象，其中包含所有页面所需的变量及其初始值。页面需要几个变量，data中就要定义几个属性变量
    //data中的变量名应该和HTML中的{{}}里的变量名保持一致。
    2. 创建new Vue对象，将界面和保存所有变量的data对象绑定起来:
        var vm=new Vue({
            el:"#app", //el:element的缩写
            //el后跟的是要监控的部分的父元素的选择器
            //选择找到那个父元素，哪个父元素下的内容就被new Vue()实时监控
            data, //让new Vue同时监控data中变量的变化
        })
        结果:
            1. new Vue会自动将data中的初始值替换界面中所有{{变量}}的位置
            2. 只要data中的变量值发生变化，new Vue会自动将新的变量值，更新到页面中{{变量}}位置。
3. 添加交互行为:
    DOM 4步：
    1. 查找触发事件的元素: 不用程序找，用肉眼找到就行（Vue中不需要了）
    2. 绑定事件处理函数：
        1. 不用js绑定，而是手动在界面中的要点击的元素上添加: <button @click="处理函数名">。
        2. Vue规定所有事件处理函数需要集中定义在new Vue()中的methods:{内}
        new Vue({
            ... ...,
            methods:{
                处理函数名(){
                    想操作data中的变量，必须加this.变量
                }
            }
        })
    3. 查找要修改的元素：彻底不用自己找（Vue中不需要了）
    4. 修改元素: vue中都是通过遥控方式修改元素的: 修改data中的变量值，new Vue可自动更新界面中的元素内容。——绑定
绑定结果：数据模型中的变量值，可以自动跑到视图中指定的位置，无需任何js编码！且模型对象中数据改变，视图中该对应位置的变量值也跟着变化。
	
### MVVM设计模式原理：Vue框架是如何实现MVVM设计模式的
1. new Vue()加载data对象
- 将data对象打散，data内部的属性直接隶属于new Vue()对象
- 将data中的每个原始属性隐姓埋名，隐藏
- 为data中的每个属性请保镖：
  - data中的每个属性都有一对儿get/set方法
  - 今后只要想修改data中变量都会自动触发set()
  - 在每个属性的set方法中，都会自动植入一个notify()函数调用，只要试图修改data中的属性值，都会调用set(),只要调用set()，势必会自动调用notfiy()发出通知
  
2. 加载虚拟DOM树
- 通过el属性值的选择器找到要监控区域的父元素
- 创建虚拟DOM树
- 扫描这个要监控的区域：
  - 每发现一个{{变量}}的元素，就将该元素的信息，记录进虚拟DOM树，同时，首次用data中的同名变量的值，代替页面中{{变量}}的位置
  - 每发现一个@事件名="函数名"的元素，就自动变为：On事件名="new Vue().函数名"

3. 加载methods对象
- methods对象中的所有方法，都会被打散，直接隶属于new Vue()和data中被打散的属性平级
- 所以，在methods的方法中，想访问data中的属性，都可以写为"this.属性名"即可！
4. 当触发事件时，自动调用new Vue()中的methods中的指定的函数，执行其中this.属性名的修改。修改会自动触发属性的set()方法，自动触发set()内部的notify()函数
- 遍历虚拟DOM树，只找出受影响的个别元素
- 利用虚拟DOM树提前封装好的DOM操作，只修改页面中受影响的个别元素——效率高

### MVVM实现原理总结
访问器属性 + 观测者模式 + 虚拟DOM

作业：
1. 用vue绑定语法和指令，动态绑定学子商城首页1楼和详情页右上部分商品信息
2. 扩展：观测者模式（高频笔试题）

1.传统Web前端开发模式的弊端
    传统Web开发重复代码量太大！效率太低！
    传统Web开发分为三部分组成:
		1. HTML：专门编写网页内容的静态语言
		2. CSS：专门编写网页样式的静态语言
		3. JS：专门为网页添加交互行为的程序语言
		问题: HTML和CSS都是静态语言，缺少编程语言必须的要素，比如: 变量，分支，循环...。太弱了！导致js必须承担所有查找，修改操作！
2.现代Web前端开发的MVVM模式
现代Web前端开发重新划分了三部分:
    1. 视图/界面(View):
        1. HTML+CSS
        2. 增强了HTML和CSS的功能，比如提供了变量，分支，循环等这些程序必备功能
        因为，HTML和CSS功能增强了，所以大大减轻了JS的负担！
    2. 模型数据(Model): 其实就是用一个data对象，统一保存这个界面所需的所有变量。
        因为数据集中保存，所以及其便于维护！
    3. 控制器(ViewModel): 自动实现模型数据data中的内容和界面(View)中的内容，实时同步！
        控制器已经封装了传统的增删改查的功能，所以几乎避免了一切重复操作！比如:
        今后vue中几乎没有任何查找操作了！
        都是以遥控方式代替手工查找元素
        只要修改data中的变量，界面中的内容自动更新。
3.Vue是如何实现MVVM的: VUE绑定的原理
    new Vue()中其实包含两大子系统:
    1. 响应系统：
        什么是: 实时监控data中变量的变化，并能在变量发生变化时，自动发出通知。
        原理:将data放入new Vue()中后，new Vue()自动为每个变量添加了访问器属性。这些访问器属性，直接隶属于new Vue()对象，保护/监控data中的变量。而且所有访问器属性中的set方法中，都内置了通知机制。只要试图修改data中的变量，只能经过访问器属性，自然就会自动触发通知：xx变量值变了！
    2. 虚拟DOM树：
        什么是: Vue内存中仅保存可能变化的DOM元素和可能变化的属性的简化版DOM树
        为什么:真实DOM树，无关的数据太多！遍历和查找速度太慢！
        虚拟DOM树的优点：
        1. 小，仅包含可能变化的元素和可能变化的属性
        2. 快，遍历快
        3. 自动，虚拟DOM树已经封装了增删改查的操作。
        4. 效率高，仅修改个别可能受影响的元素和可能受影响的属性。多数无关的元素和属性，不收影响。
        原理:
            形成:
                首次new Vue()时，传入了el:"#app"参数
                然后new Vue()找到#app这个父元素，扫描其内部的子元素
				边扫描，边创建虚拟DOM树，仅保存可能变化的元素和可能变化的属性
                首次将data中的变量，替换DOM树中的{{}}语法
            当变量变化时:
                首先触发这个变量的访问器set方法，发出通知，通知虚拟DOM树，哪个变量发生变化
                然后new Vue()遍历虚拟DOM树，找到可能发生变化的元素和属性
                最后，利用已经封装好的DOM的增删改查方法，找到发生变化的元素和属性，修改属性

四. 绑定语法:
什么是绑定语法
	什么是: 在页面中使用{{变量}}标记哪里可能发生变化
	学名: 插值语法: Interpolation
	何时: 只要页面中一个位置的内容，可能根据变量的变化而自动变化时，就都用{{变量}}来占位
	结果:
		1. 所有标有{{变量}}的元素，都被加入虚拟DOM树中
		2. 当变量变化时，根据{{}}中的变量名，判断当前元素内容是否受影响。如果受影响，则自动更新该元素的内容。
如何使用绑定语法
    {{}}除了可以写死一个变量外，还可编写任意正确的有返回值的js表达式——用法同模板字符串中的${...}
    比如: {{算术计算}}  {{比较运算}}  {{三目运算}}{{调用函数}}{{创建对象/访问对象的属性}}  {{访问数组的元素}}
    不能放程序结构: if else   while    do while  for
```
## 五. 指令:
什么是指令: 为HTML元素添加新功能的特殊属性
为什么需要指令: 传统的HTML缺少程序必须的要素，比如: 变量，函数，分支，循环等，导致js重复操作量巨大。
什么时候用指令: 在vue中，想在HTML里实现某些特殊的功能时，就要使用对应的指令。比如需要分支，循环等功能时
有哪些指令：共13个
### 1. 指令v-bind的使用
什么是:专门绑定元素的属性值
为什么:{{}}只能绑定元素内容，不能绑定元素属性值
何时:只要元素的属性值需要根据变量自动变化时，都用v-bind。
用法:
    <元素 v-bind:属性="js表达式">
    其实可简写为":属性"
强调:
    1. 加了:的属性，值中不用再加{{}}
    2. 加了:的属性，""就是{{}}的作用，""中不但可以写值/变量，而且也可以写js表达式

### 2. 指令v-show的使用
功能：根据条件控制一个元素的显示隐藏:
用法：
    <元素 v-show="条件表达式">
结果:
    1. 如果条件表达式执行结果为true，则当前元素显示——会去掉display:none
    2. 如果条件表达式执行结果为false，则当前元素隐藏——会自动将v-show替换为display:none

### 3. 指令v-if和v-else的使用
功能：控制两个元素二选一显示隐藏
问题: v-show如果控制多个元素多选一显示隐藏，必须把判断条件在每个元素上都重复写一遍，代码繁琐！
解决: v-if   v-else
用法：
    <元素1 v-if="判断条件">
    <元素2 v-else>
结果:
    如果判断条件返回true，就显示第一个元素，删除第二个元素
    如果判断条件返回false，就显示第二个元素，删除第一个元素
强调:
    1. 两个元素之间不能插入其他元素
    2. v-else不需要属性值

### 4. 指令v-else-if的使用
功能：控制多个元素多选一显示隐藏
用法：
    <元素1 v-if="条件1">
    <元素2 v-else-if="条件2">
    ...
    <元素n v-else>
原理：
    从上向下依次判断每个v-if或v-else-if后的条件。
    只要条件不满足就删除该元素
    只有满足条件的元素才会保留下来用于显示。
    如果判断走到了下一个元素上，隐含着上一个元素的条件肯定不满足
强调:
    1. 多个元素之间不能插入其他元素
    2. v-else不需要属性值

#### 比较: v-show vs v-if
    v-show采用display:none 隐藏元素 -效率高，因为未改变DOM树结构
    v-if 采用直接删除元素隐藏元素 -效率略低

#### 回顾:三目运算符:
1. 一个条件，2件事，二选一执行:
    条件?操作1:操作2
2. 多个条件，多选一执行:
    条件1?操作1:
    条件2?操作2:
    条件3?操作3:
        操作4
    其实: ?代替的是if    :代替的是else
    if(条件1)
        操作1
    else if(条件2)
        操作2
    else if(条件3)
        操作3
    else
        操作4

## 总结
1. 绑定元素内容: `{{}}`
2. 绑定元素属性值: ` : `
3. 控制一个元素的显示隐藏: `v-show`
4. 控制两个元素，二选一显示隐藏: `v-if   v-else`
5. 控制多个元素，多选一显示隐藏: `v-if  v-else-if  v-else`


```
单词列表:
1. Interpolation: 插值语法
2. inside内部   outside  外部
3. has been已经
4. colon冒号
5. shorthand简写
6. instead代替

作业:
1. 使用Object.defineProperty，模拟实现Vue的绑定原理
<body>
    <div id="app">
        <ul>
            <li>姓名: {{uname}}</li>
            <li>积分: {{score}}</li>
        </ul>
        <ul>
            <li>Welcome {{uname}}</li>
        </ul>
    </div>

    <script>
        var data = {
            uname: "dingding",
            score: 3000
        }
        //编写一段代码，将data中的变量，自动加载到页面中{{}}指定位置
        //如果修改data的score属性+500
        data.score += 500;
        //则页面上score位置自动变化
        data.score += 200;
        //页面上score位置再次自动变化
        data.score += 300;
        //页面上score位置再次自动变化
        //提示: Object.defineProperty()为每个属性添加访问器属性，在访问器属性的set方法中填写代码，实现自动更新。
    </script>
</body>
```
